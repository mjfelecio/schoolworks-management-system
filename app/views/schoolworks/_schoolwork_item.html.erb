<%= turbo_frame_tag dom_id(schoolwork) do %>
  <%= link_to schoolwork_path(schoolwork), data: { turbo_frame: "schoolwork_details" }, class: "block hover:bg-base-100 transition-colors" do %>
    <li class="p-4 cursor-pointer">
      <div class="flex items-start justify-between gap-2">
        <div class="flex-1 min-w-0">
          <%# Title %>
          <h3 class="font-semibold text-base-content truncate"><%= schoolwork.title %></h3>
          <%# Subject %>
          <div class="flex items-center gap-1 mt-1">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-base-content/60">
              <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
              <path d="M19 4v16h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12z" />
              <path d="M19 16h-12a2 2 0 0 0 -2 2" />
            </svg>
            <span class="text-sm text-base-content/60"><%= schoolwork.subject.name %></span>
          </div>
          <%# Badges %>
          <div class="flex flex-wrap gap-1 mt-2">
            <span class="badge badge-sm <%= schoolwork.status_badge_class %>">
              <%= schoolwork.status.titleize %>
            </span>
            <span class="badge badge-sm <%= schoolwork.priority_badge_class %>">
              <%= schoolwork.priority.titleize %>
            </span>
            <span class="badge badge-sm badge-outline">
              <%= schoolwork.schoolwork_type.titleize %>
            </span>
          </div>
          <%# Due Date %>
          <% if schoolwork.due_date.present? %>
            <div class="flex items-center gap-1 mt-2">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="<%= schoolwork.overdue? ? 'text-error' : schoolwork.due_soon? ? 'text-warning' : 'text-base-content/60' %>">
                <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                <path d="M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12z" />
                <path d="M16 3v4" />
                <path d="M8 3v4" />
                <path d="M4 11h16" />
              </svg>
              <span class="text-sm <%= schoolwork.overdue? ? 'text-error font-semibold' : schoolwork.due_soon? ? 'text-warning font-semibold' : 'text-base-content/60' %>">
                <%= schoolwork.due_date.strftime("%b %d, %Y") %>
                <% if schoolwork.overdue? %>
                  (Overdue)
                <% elsif schoolwork.due_soon? %>
                  (Due Soon)
                <% end %>
              </span>
            </div>
          <% end %>
          <%# Attachments Count %>
          <% if schoolwork.files.attached? %>
            <div class="flex items-center gap-1 mt-1">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-base-content/60">
                <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                <path d="M15 7l-6.5 6.5a1.5 1.5 0 0 0 3 3l6.5 -6.5a3 3 0 0 0 -6 -6l-6.5 6.5a4.5 4.5 0 0 0 9 9l6.5 -6.5" />
              </svg>
              <span class="text-sm text-base-content/60"><%= schoolwork.files.count %> file(s)</span>
            </div>
          <% end %>
        </div>
        <%# Arrow Icon %>
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-base-content/40 flex-shrink-0 mt-1">
          <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
          <path d="M9 6l6 6l-6 6" />
        </svg>
      </div>
    </li>
  <% end %>
<% end %>