<%= turbo_stream.remove "subject_modal" %>
<% if @was_empty %>
  <%# First subject - replace empty state with new list %>
  <%= turbo_stream.replace "subjects_list_empty" do %>
    <ul id="subjects_list" class="self-start w-full divide-y divide-base-300">
      <%= render partial: "subjects/subject", object: @subject %>
    </ul>
  <% end %>
<% else %>
  <%# Additional subjects - prepend to existing list %>
  <%= turbo_stream.prepend "subjects_list", partial: "subjects/subject", object: @subject %>
<% end %>
<%= turbo_stream.replace("subject_details", partial: "subjects/details", locals: { subject: @subject }) %>
<%= turbo_stream.replace("schoolwork_list_container", partial: "subjects/schoolworks", locals: { subject: @subject }) %>
<%= render_turbo_flash(:success, "New subject named #{@subject.name.titleize} created.") %>
